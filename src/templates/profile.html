{% extends "base.html" %}

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="alert alert-{{ category }}">{{ message }}</div>
    {% endfor %}
  {% endif %}
{% endwith %}

{% block content %}
<h1>Profile</h1>
<h2>Account Details</h2>
<p>Username: {{ user.username }}</p>
<p>Email: {{ user.email }}</p>

<h2>Investment Profile</h2>
{% if investment_profile %}
    <p>Risk Tolerance: {{ investment_profile.risk_tolerance }}/5</p>
    <p>Investment Horizon: {{ investment_profile.investment_horizon }}</p>
    <p>Primary Investment Goal: {{ investment_profile.primary_investment_goal }}</p>
    <!-- Add more fields as needed -->
    
    <a href="{{ url_for('main.investment_survey') }}" class="btn btn-primary">Update Investment Profile</a>
{% else %}
    <p>You haven't completed the investment survey yet.</p>
    <a href="{{ url_for('main.investment_survey') }}" class="btn btn-primary">Complete Investment Survey</a>
{% endif %}
{% endblock %}