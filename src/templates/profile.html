{% extends "base.html" %}

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="alert alert-{{ category }}">{{ message }}</div>
    {% endfor %}
  {% endif %}
{% endwith %}

{% block content %}
<h1>Profile</h1>
<h2>Account Details</h2>
<p>Username: {{ user.username }}</p>
<p>Email: {{ user.email }}</p>

<h2>Investment Profile</h2>
{% if investment_profile %}
    <p>User ID: {{ investment_profile.user_id }}</p>
    <p>Age: {{ investment_profile.age }}</p>
    <p>Country: {{ investment_profile.country }}</p>
    <p>Education Level: {{ investment_profile.education_level }}</p>
    <p>Annual Income: {{ investment_profile.annual_income }}</p>
    <p>Monthly Investment: {{ investment_profile.monthly_investment }}</p>
    <p>Risk Tolerance: {{ investment_profile.risk_tolerance }}</p>
    <p>Investment Horizon: {{ investment_profile.investment_horizon }}</p>
    <p>Preferred Industries: {{ investment_profile.preferred_industries }}</p>
    <p>Investment Experience: {{ investment_profile.investment_experience }}</p>
    <p>Years Investing: {{ investment_profile.years_investing }}</p>
    <p>Primary Investment Goal: {{ investment_profile.primary_investment_goal }}</p>
    <p>Secondary Investment Goals: {{ investment_profile.secondary_investment_goals }}</p>
    <p>Sustainable Investing: {{ investment_profile.sustainable_investing }}</p>
    <p>Has Existing Portfolio: {{ investment_profile.has_existing_portfolio }}</p>
    <p>Last Updated: {{ investment_profile.last_updated }}</p>
    
    <a href="{{ url_for('main.investment_survey') }}" class="btn btn-primary">Update Investment Profile</a>
{% else %}
    <p>You haven't completed the investment survey yet.</p>
    <a href="{{ url_for('main.investment_survey') }}" class="btn btn-primary">Complete Investment Survey</a>
{% endif %}
{% endblock %}