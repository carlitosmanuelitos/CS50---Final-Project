{% extends "base.html" %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
{% endblock %}


{% block content %}
<div class="profile-container">
    <h1 class="profile-title">Profile</h1>
    
    <div class="profile-section">
        <h2 class="section-title">Account Details</h2>
        <div class="info-grid">
            <div class="info-item">
                <span class="info-label">Username</span>
                <span class="info-value">{{ user.username }}</span>
            </div>
            <div class="info-item">
                <span class="info-label">Email</span>
                <span class="info-value">{{ user.email }}</span>
            </div>
        </div>
    </div>

    <div class="profile-section">
        <h2 class="section-title">Investment Profile</h2>
        {% if investment_profile %}
            <div class="info-grid">
                <div class="info-item">
                    <span class="info-label">User ID</span>
                    <span class="info-value">{{ investment_profile.user_id }}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Age</span>
                    <span class="info-value">{{ investment_profile.age }}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Country</span>
                    <span class="info-value">{{ investment_profile.country }}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Education</span>
                    <span class="info-value">{{ investment_profile.education_level }}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Annual Income</span>
                    <span class="info-value">€{{ investment_profile.annual_income }}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Monthly Investment</span>
                    <span class="info-value">€{{ investment_profile.monthly_investment }}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Risk Tolerance</span>
                    <span class="info-value">{{ investment_profile.risk_tolerance }}/5</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Investment Horizon</span>
                    <span class="info-value">{{ investment_profile.investment_horizon }}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Experience</span>
                    <span class="info-value">{{ investment_profile.investment_experience }}/5</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Years Investing</span>
                    <span class="info-value">{{ investment_profile.years_investing }}</span>
                </div>
                <div class="info-item full-width">
                    <span class="info-label">Preferred Industries</span>
                    <span class="info-value">
                        {{ investment_profile.preferred_industries.split(',')
                           |map('replace', '_', ' ')
                           |map('capitalize')
                           |join(', ') }}
                    </span>
                </div>
                <div class="info-item">
                    <span class="info-label">Primary Goal</span>
                    <span class="info-value">{{ investment_profile.primary_investment_goal|replace('_', ' ')|title }}</span>
                </div>
                <div class="info-item full-width">
                    <span class="info-label">Secondary Goals</span>
                    <span class="info-value">
                        {{ investment_profile.secondary_investment_goals.split(',')
                           |map('replace', '_', ' ')
                           |map('capitalize')
                           |join(', ') }}
                    </span>
                </div>
                <div class="info-item">
                    <span class="info-label">Sustainable Investing</span>
                    <span class="info-value">{{ 'Yes' if investment_profile.sustainable_investing else 'No' }}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Last Updated</span>
                    <span class="info-value">{{ investment_profile.last_updated.strftime('%Y-%m-%d %H:%M') }}</span>
                </div>
            </div>
            <a href="{{ url_for('main.investment_survey') }}" class="update-button">Update Investment Profile</a>
        {% else %}
            <p class="no-profile">You haven't completed the investment survey yet.</p>
            <a href="{{ url_for('main.investment_survey') }}" class="update-button">Complete Investment Survey</a>
        {% endif %}
    </div>
</div>
{% endblock %}